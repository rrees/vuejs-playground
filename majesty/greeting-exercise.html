<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF8">
		<title>Conditional greetings | Majesty of Vue 2</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	</head>

	<body>
		<div id="app" class="container-fluid">

		<h1>{{banner}}</h1>
		<form>
			<div class="form-group">
				<label for="gender">Gender</label>
				<input type="text" id="gender" name="gender" v-model="gender">
			</div>

			<div class="form-group">
				<label for="name">Your name</label>
				<input type="text" id="name" name="name" v-model="name">
			</div>
		</form>

		<pre>{{$data}}</pre>

		</div>


		<script src="https://unpkg.com/vue@2.0.3/dist/vue.js"></script>

		<script>

			function genderPrefix(gender) {
				if(gender == "male") {
					return "Mr.";
				}

				if(gender == "female") {
					return "Ms.";
				}

				return undefined;
			}

			const vm = new Vue({
				el: '#app',
				data: {
					message: "Hello world",
					name: undefined,
					gender: undefined
				},
				computed: {
					banner: function() {
						const prefix = genderPrefix(this.gender);

						if (this.name && !prefix) {
							return "Make up your mind, gender is a fixed concept for me";
						}

						if (this.name && prefix) {
							return `Greetings ${prefix} ${this.name}`;
						}

						if(this.name) {
							return `Greetings ${this.name}!`;
						}

						return "Greetings humanoid!";
					}
				}
			})
		</script>
	</body>

</html>
